diff --git a/src/GetHost.c b/src/GetHost.c
index 2f0bccded..2d698f664 100644
--- a/src/GetHost.c
+++ b/src/GetHost.c
@@ -35,7 +35,10 @@ in this Software without prior written authorization from The Open Group.
 #endif
 #include <X11/Xosdefs.h>
 #include <string.h>
+
+#ifdef HAVE_UNISTD_H
 #include <unistd.h>
+#endif
 
 #ifdef WIN32
 #include <X11/Xlibint.h>
